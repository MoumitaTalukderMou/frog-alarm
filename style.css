/* --- Keep previous CSS, just add/update these --- */

/* PUMP STYLES UPDATED */
.pump-container {
    display: flex; flex-direction: column; align-items: center;
}

#pump-indicator {
    font-size: 0.6rem; font-weight: bold; color: #0f0; margin-bottom: 5px;
    background: #000; padding: 2px 5px; border-radius: 3px;
}

.pump-mechanism {
    position: relative; width: 60px; height: 100px;
    display: flex; flex-direction: column; align-items: center; justify-content: flex-end;
}

.pump-body { width: 40px; height: 40px; background: #444; border-radius: 5px; z-index: 1; border: 2px solid #555; }

#pump-handle {
    position: absolute; bottom: 0; width: 100%; height: 100%;
    display: flex; flex-direction: column; align-items: center; cursor: pointer; z-index: 2;
    transition: transform 0.05s ease-out;
}

.handle-grip {
    width: 60px; height: 20px; background: #ffaa00; border-radius: 5px;
    color: #000; font-weight: bold; font-size: 0.7rem; 
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 3px 0 #cc8800; border: 1px solid #fff;
    transition: background 0.2s;
}

.piston-shaft { width: 8px; height: 90px; background: #999; z-index: -1; }

/* JAMMED STATE STYLES */
.pump-jammed .handle-grip {
    background: #ff0000 !important; /* Red handle */
    box-shadow: 0 3px 0 #880000 !important;
    color: #fff;
}

.pump-shake {
    animation: rattle 0.1s infinite;
}

@keyframes rattle {
    0% { transform: translate(1px, 1px) rotate(0deg); }
    50% { transform: translate(-1px, -1px) rotate(2deg); }
    100% { transform: translate(1px, -1px) rotate(-2deg); }
}

/* ... (Keep the rest of the CSS same as before) ... */

/* Basic Layout Reset needed for context */
body { background-color: #0a1a0a; color: #ccffcc; font-family: 'Verdana', sans-serif; margin: 0; height: 100vh; overflow: hidden; user-select: none; display: flex; flex-direction: column; align-items: center; }
header { text-align: center; margin-top: 5px; z-index: 10; }
header h1 { margin: 0; color: #44ff44; font-size: 1.2rem; }
header p { font-size: 0.6rem; color: #88aa88; }
.main-wrapper { display: flex; flex-direction: row; align-items: center; justify-content: center; gap: 20px; height: 70%; width: 100%; }
.panel { width: 220px; height: 380px; background: #112211; border: 3px solid #335533; border-radius: 20px; display: flex; flex-direction: column; align-items: center; padding: 10px; }
.frog-clock-container { position: relative; width: 180px; height: 160px; margin-bottom: 10px; margin-top: 10px; }
.frog-face { width: 160px; height: 140px; background: #44cc44; border-radius: 50% 50% 40% 40%; border: 4px solid #114411; position: absolute; bottom: 0; left: 10px; }
.frog-eye { width: 40px; height: 40px; background: #fff; border: 3px solid #114411; border-radius: 50%; position: absolute; top: 0; z-index: 5; }
.frog-eye::after { content: ''; width: 10px; height: 20px; background: #000; border-radius: 50%; position: absolute; top: 10px; left: 12px; }
.left-eye { left: 15px; } .right-eye { right: 15px; }
.mouth-smile { width: 80px; height: 40px; border-bottom: 3px solid #003300; border-radius: 50%; position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); }
.marker { position: absolute; font-weight: bold; color: #003300; font-size: 1rem; }
.twelve { top: 10px; left: 50%; transform: translateX(-50%); } .six { bottom: 35px; left: 50%; transform: translateX(-50%); } .three { right: 15px; top: 45%; } .nine { left: 15px; top: 45%; }
.hand { position: absolute; bottom: 55%; left: 50%; transform-origin: bottom center; background: #000; border-radius: 5px; z-index: 6; transition: transform 0.2s cubic-bezier(0.4, 2.5, 0.55, 0.44); }
.hour { width: 6px; height: 35px; margin-left: -3px; background: #002200; z-index: 7;} .minute { width: 4px; height: 55px; background: #cc0000; margin-left: -2px; z-index: 8;}
.center-dot { position: absolute; top: 45%; left: 50%; width: 12px; height: 12px; background: #fff; border: 2px solid #000; border-radius: 50%; transform: translate(-50%, -50%); z-index: 9; }
.status-panel { text-align: center; margin-bottom: 10px; }
.label { font-size: 0.6rem; color: #88aa88; }
.digital-time { font-size: 1.2rem; font-weight: bold; color: #fff; }
.controls-row { display: flex; gap: 15px; align-items: flex-end; width: 100%; justify-content: center; }
#freeze-btn { width: 90px; height: 50px; background: #00ccff; border: none; border-radius: 5px; color: #000; font-weight: bold; font-size: 0.6rem; cursor: pointer; box-shadow: 0 4px 0 #0088aa; }
#freeze-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 #0088aa; }
#freeze-btn:disabled { background: #555; color: #888; box-shadow: none; }
.bar-container { width: 100%; height: 6px; background: #223322; margin-bottom: 5px; }
#vol-bar { width: 100%; height: 100%; background: #ff0000; transition: width 0.1s; }
#vol-status { font-size: 0.8rem; font-weight: bold; color: red; text-align: center; }
.pond-container { position: relative; width: 100px; height: 200px; background: linear-gradient(to bottom, #87CEEB 0%, #001133 100%); border: 3px solid #557755; border-radius: 10px; overflow: hidden; cursor: ns-resize; margin-top: 10px; }
#vol-frog { width: 50px; height: 40px; background: #00ff00; border-radius: 50%; position: absolute; left: 25px; top: 0px; box-shadow: 0 5px 10px rgba(0,0,0,0.5); z-index: 10; cursor: grab; transition: top 0.2s linear; }
#vol-frog:active { cursor: grabbing; transform: scale(0.95); }
.v-eyes { position: absolute; top: -8px; width: 100%; display: flex; justify-content: space-around; }
.v-eye { width: 12px; height: 12px; background: white; border-radius: 50%; border: 1px solid #000; }
.v-body { width: 100%; height: 100%; background: transparent; }
.pond-depth-markers { position: absolute; right: 5px; top: 0; height: 100%; display: flex; flex-direction: column; justify-content: space-between; font-size: 0.6rem; color: rgba(255,255,255,0.5); pointer-events: none; }
.instruction { font-size: 0.6rem; color: #88aa88; text-align: center; margin-top: 5px; }
.lock-section { width: 300px; margin-top: 10px; text-align: center; }
#slider-track { width: 100%; height: 50px; background: #223322; border-radius: 25px; position: relative; box-shadow: inset 0 0 10px #000; }
#slider-text { line-height: 50px; color: #668866; font-size: 0.7rem; font-weight: bold; pointer-events: none; }
#slider-knob { width: 50px; height: 50px; background: #446644; border-radius: 50%; position: absolute; left: 0; top: 0; cursor: grab; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; box-shadow: 0 0 10px #000; transition: left 0.1s; }
#status-msg { margin-top: 5px; font-size: 0.8rem; font-weight: bold; height: 20px; }
#stabilizer-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,20,0,0.98); z-index: 100; display: none; flex-direction: column; align-items: center; justify-content: center; }
#safe-zone { width: 150px; height: 150px; border: 4px dashed #00ff00; border-radius: 50%; position: absolute; transition: all 0.5s; }
#fake-cursor { width: 25px; height: 25px; background: #fff; border-radius: 50%; position: absolute; transition: all 0.05s; top: 50%; left: 50%; transform: translate(-50%, -50%); }
.shake-text { animation: shake 0.2s infinite; font-size: 2.5rem; color: #00ff00; margin-bottom: 20px; text-align: center; }
.stab-msg { color: #fff; margin-top: 220px; text-align: center; }
.progress-box { width: 250px; height: 15px; background: #112211; margin-top: 15px; border: 1px solid #00ff00; }
#stop-progress { width: 0%; height: 100%; background: #00ff00; transition: width 0.1s; }
.shaking { animation: violent-shake 0.3s infinite; }
@keyframes violent-shake { 0% { transform: translate(3px, 3px) rotate(0deg); } 50% { transform: translate(-3px, -3px) rotate(2deg); } 100% { transform: translate(3px, 3px) rotate(-2deg); } }
@media (max-width: 600px) { .main-wrapper { flex-direction: column; height: auto; margin-top: 10px; } .panel { height: 320px; } }